{"version":3,"sources":["white.png","black.png","OthelloApp.js","serviceWorker.js","index.js"],"names":["module","exports","TOKEN_TYPE","EMPTY","WHITE","BLACK","PLAYER","PLAYER_NAMES","_PLAYER_NAMES","Object","defineProperty","OthelloToken","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","tokenType","setState","token","react_default","a","createElement","src","whiteToken","alt","blackToken","React","Component","OthelloBoard","_this2","boardSize","board","curPlayer","directions","i","j","push","row","boardRow","col","scoreWhite","scoreBlack","tileClicked","bind","assertThisInitialized","e","curToken","nextPlayer","validMove","numChangedTokens","forEach","dir","curRow","curCol","invDir","newScoreWhite","newScoreBlack","_this3","tiles","_loop","_loop2","className","onClick","OthelloApp_OthelloToken","OthelloApp","OthelloApp_OthelloBoard","Boolean","window","location","hostname","match","ReactDOM","render","src_OthelloApp","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2411e1b6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAAq0lEQVRYw+1WQQ7AIAgTszf4//f5CRZPM0YQFOeS0bPQUjdsCA7H3wETNWjZE7SEiDw/AKg4YEQ8IhxO+AgCjQBcJSaEiOwxJ+dExK/9Bdump1w47oALiIJFYn3/H3cg57zFhdKz9G5x9Q7XIqxWcY+cFFAXtG5oHyOKmF3FXFFKiW0oqAWRAzMEloEErYl604vywKqQ6spUeYBMRCNBnW9kOhG9kgkdjuO4Ac2mQmoevoGQAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAAr0lEQVRYw+1WwQ3AIAgU01Fcwf0HcAV3sfFnjCBYWk3KvYU7T8VzzmD4O2Chpmj2BClhjJFcnFISccCMeEY4QyMIJALKU2JECHAEqJNTIvxpr+C13WMubHfABHjGINE+/8MdCCG84kLtWXv3uEaLWxFao3hEjgpoC3o3pJ8RRkyOYqoo50w2ZNQCy4EVAs1AUrSJRrtn5YGnQpojE+UBNBHNBA3uyHIi+iQTGgzbcQP1N0BgihTHcQAAAABJRU5ErkJggg==\"","import React from 'react';\nimport whiteToken from './white.png';\nimport blackToken from './black.png';\nimport './OthelloApp.scss';\n\nconst TOKEN_TYPE = {\n  \"EMPTY\": 1,\n  \"WHITE\": 2,\n  \"BLACK\": 3\n};\n\nconst PLAYER = {\n  \"WHITE\": 1,\n  \"BLACK\": 2\n}\n\nconst PLAYER_NAMES = {\n  [PLAYER.WHITE]: \"White\",\n  [PLAYER.BLACK]: \"Black\"\n}\n\nclass OthelloToken extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n    this.state = {tokenType: props.tokenType};\n  }\n\n  componentWillReceiveProps(props)\n  {\n    this.setState({tokenType: props.tokenType});\n  }\n\n  render()\n  {\n    let token;\n\n    switch (this.state.tokenType)\n    {\n      case TOKEN_TYPE.EMPTY:\n        token = <span />;\n        break;\n      case TOKEN_TYPE.WHITE:\n        token = <img src={whiteToken} alt=\"W\" />;\n        break;\n      case TOKEN_TYPE.BLACK:\n        token = <img src={blackToken} alt=\"B\" />;\n        break;\n    }\n\n    return token;\n  }\n}\n\nclass OthelloBoard extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n    this.boardSize = props.boardSize;\n\n    this.board = [];\n    this.curPlayer = PLAYER.WHITE;\n\n    // Generate possible directions to check\n    this.directions = [];\n    for (let i = -1; i <= 1; i++)\n    {\n      for (let j = -1; j <= 1; j++)\n      {\n        if (i === 0 && j === 0)\n          continue;\n\n        this.directions.push([i, j]);\n      }\n    }\n\n    // Create empty board\n    for (let row = 0; row < this.boardSize; row++)\n    {\n      let boardRow = [];\n\n      for (let col = 0; col < this.boardSize; col++)\n      {\n        boardRow.push(TOKEN_TYPE.EMPTY);\n      }\n\n      this.board.push(boardRow);\n    }\n\n    // Set initial pieces\n    this.board[(this.boardSize/2)-1][(this.boardSize/2)-1] = TOKEN_TYPE.WHITE;\n    this.board[(this.boardSize/2)-1][(this.boardSize/2)] = TOKEN_TYPE.BLACK;\n    this.board[(this.boardSize/2)][(this.boardSize/2)-1] = TOKEN_TYPE.BLACK;\n    this.board[(this.boardSize/2)][(this.boardSize/2)] = TOKEN_TYPE.WHITE;\n\n    this.state = {\n      board: this.board,\n      curPlayer: PLAYER_NAMES[this.curPlayer],\n      scoreWhite: 2,\n      scoreBlack: 2\n    };\n\n    // Bind callbacks\n    this.tileClicked = this.tileClicked.bind(this);\n  }\n\n  tileClicked(row, col, e)\n  {\n    if (this.board[row][col] != TOKEN_TYPE.EMPTY)\n    {\n      // Tile already taken\n      return;\n    }\n\n    let curToken;\n    let otherToken;\n    let nextPlayer;\n\n    if (this.curPlayer == PLAYER.WHITE)\n    {\n      curToken = TOKEN_TYPE.WHITE;\n      otherToken = TOKEN_TYPE.BLACK;\n      nextPlayer = PLAYER.BLACK;\n    }\n    else\n    {\n      curToken = TOKEN_TYPE.BLACK;\n      otherToken = TOKEN_TYPE.WHITE;\n      nextPlayer = PLAYER.WHITE;\n    }\n\n    let validMove = false;\n\n    let numChangedTokens = 0;\n\n    // Check each direction\n    this.directions.forEach(function(dir) {\n      let curRow = row + dir[0];\n      let curCol = col + dir[1];\n\n      // Loop until out of bounds, an empty tile is found, or another of the\n      // current players tokens are found\n      while (true)\n      {\n        if (curRow < 0 || curRow >= this.boardSize || curCol < 0 || curCol >= this.boardSize ||\n            this.board[curRow][curCol] == TOKEN_TYPE.EMPTY)\n        {\n          // This direction can't be flipped\n          return;\n        }\n\n        if (this.board[curRow][curCol] == curToken)\n        {\n          // This direction can be flipped\n          break;\n        }\n\n        curRow += dir[0];\n        curCol += dir[1];\n      }\n\n      // Invert the direction to go back\n      let invDir = [dir[0] * -1, dir[1] * -1];\n\n      curRow += invDir[0];\n      curCol += invDir[1];\n\n      // flip tokens\n      while (!(curRow == row && curCol == col))\n      {\n        this.board[curRow][curCol] = curToken;\n\n        numChangedTokens++;\n        validMove = true;\n\n        curRow += invDir[0];\n        curCol += invDir[1];\n      }\n    }, this);\n\n    if (validMove)\n    {\n      // Place the token\n      this.board[row][col] = curToken;\n\n      // Update score\n      let newScoreWhite = this.state.scoreWhite;\n      let newScoreBlack = this.state.scoreBlack;\n      if (this.curPlayer == PLAYER.WHITE)\n      {\n        newScoreWhite += numChangedTokens + 1;\n        newScoreBlack -= numChangedTokens;\n      }\n      else\n      {\n        newScoreBlack += numChangedTokens + 1;\n        newScoreWhite -= numChangedTokens;\n      }\n\n      // Swap turns\n      this.curPlayer = nextPlayer;\n\n      // Update state\n      this.setState({\n        board: this.board,\n        curPlayer: PLAYER_NAMES[nextPlayer],\n        scoreWhite: newScoreWhite,\n        scoreBlack: newScoreBlack\n      });\n    }\n  }\n\n  render()\n  {\n    let tiles = [];\n    for (let row = 0; row < this.boardSize; row++)\n    {\n      for (let col = 0; col < this.boardSize; col++)\n      {\n        tiles.push(\n          <button className=\"OthelloBoard-tile\" onClick={(e) => this.tileClicked(row, col, e)}>\n            <OthelloToken tokenType={this.state.board[row][col]} />\n          </button>\n        );\n      }\n    }\n\n    return (\n      <div className=\"OthelloBoard\">\n        <div className=\"OthelloBoard-grid\">\n          {tiles}\n        </div>\n        <div className=\"current-player\">Current player: {this.state.curPlayer}</div>\n        <div className=\"scorebox\">\n          <span className=\"score-white\">White: {this.state.scoreWhite}</span>\n          -\n          <span className=\"score-black\">Black: {this.state.scoreBlack}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction OthelloApp() {\n  return (\n    <div className=\"OthelloApp\">\n      <header className=\"OthelloApp-header\">\n        <h1>\n          Othello\n        </h1>\n      </header>\n      <OthelloBoard boardSize={8} />\n    </div>\n  );\n}\n\nexport default OthelloApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport OthelloApp from './OthelloApp';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<OthelloApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}